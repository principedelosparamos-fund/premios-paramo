---
import RegisterJuradoForm from '../../components/admin/RegisterJurado'
import Head from '../../components/Head.astro'
import BackButton from '../../components/ui/BackButton.astro'
import LayoutFormularios from '../../layouts/LayoutFormularios.astro'
---

<!-- Guard solo-admin en cliente -->
<script>
  (function () {
    try {
      const m = document.cookie.match(/(?:^|;\s*)userRole=([^;]+)/);
      const role = (m && decodeURIComponent(m[1])) || localStorage.getItem('userRole');
      if (role !== 'admin') {
        window.location.replace('/login');
      }
    } catch (e) {
      window.location.replace('/login');
    }
  })();
</script>

<Head title="Registro de jurados" description="Registro de jurados" />
<LayoutFormularios>
  <div class="mx-auto max-w-3xl py-10">
    <div class="py-5">
      <BackButton />
    </div>
    <RegisterJuradoForm client:load />
  </div>
</LayoutFormularios>
